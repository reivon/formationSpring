<!doctype html>
<html lang="fr">
	<head>
		<meta charset="utf-8">

		<title>Comprendre Spring</title>

		<meta name="description" content="Formation générale sur le framework Spring">
		<meta name="author" content="Tony MEMBOT">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="reveal-3.3.0/css/reveal.css">
		<link rel="stylesheet" href="reveal-3.3.0/css/theme/sky.css" id="theme">
		<link rel="stylesheet" href="reveal-3.3.0/lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal-3.3.0/css/print/pdf.css' : 'reveal-3.3.0/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="reveal-3.3.0/lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

                <!-- *************************************************************** -->
                <!-- 0. Titre & plan -->
                <!-- *************************************************************** -->

				<section>
					<h1>Comprendre Spring</h1>
					<h3>Formation au Framework multi fonction</h3>
					<p>
						<small>Créé par Tony MEMBOT via l'API de présentation <a href="https://github.com/hakimel/reveal.js">Reveal.js</a></small>
					</p>

                    <aside class="notes">
                        Se présenter rapidement.<br />
                        Leur demander de se présenter / niveau de connaissance en struts / spring.<br />
                        Pas formation expert. Il faut fouiller / adapter.<br />
                    </aside>
				</section>

				<section>
					<h2>Comprendre Spring</h2>
					<ul>
						<li>C'est quoi spring ?</li>
						<li>Spring Core</li>
						<li>Spring MVC</li>
						<li>Spring Security</li>
						<li>Spring Batch</li>
						<li>Spring et ...
                            <ul>
                                <li>les tests unitaires</li>
                                <li>AOP</li>
                                <li>Spring boot</li>
                                <li>...</li>
                            </ul>
                        </li>
					</ul>
				</section>

                <!-- *************************************************************** -->
                <!-- 1. C'est quoi Spring -->
                <!-- *************************************************************** -->

				<section>

                    <section>
                        <h2>C'est quoi Spring ?</h2>
                    </section>

					<section>
						<h3>Un conteneur léger</h3>
                        <br />
						<ul>
							<li class="fragment">Framework reponsant sur 3 grands principes
								<ul>
									<li class="fragment">Inversion de contrôle</li>
									<li class="fragment">Programmation orientée aspect</li>
									<li class="fragment">Couche d'abstraction (pour d'autres API)</li>
								</ul>
							</li>
                            <li class="fragment"><b>2003</b> : première version.</li>
                            <li class="fragment"><b>2016</b> : version 5.0 incoming (4.2.3)</li>
                            <li class="fragment"><b>Libre</b> : vos pull request sont attendus</li>
						</ul>

                        <aside class="notes">
                            Inversion de contrôle = Injection de dépendance. (exemple par la suite)<br />
                            Définir programmation orienté aspect => transversale.<br />
                            Couche d'abstraction : Hibernate / quartz / velocity / jdbc / ...<br />
                            <br />
                            Entre chaque version il y a eu de nombreuses et importantes évolution.<br />
                        </aside>
					</section>

                    <section>
                        <!-- TODO : SCHEMA général sur spring -->
                    </section>

				</section>

                <!-- *************************************************************** -->
                <!-- 2. Spring core -->
                <!-- *************************************************************** -->

				<section>

                    <section>
                        <h2>Spring core</h2>
                    </section>

                    <section>
                        <h3>C'est quoi l'Inversion of Control</h3>
                        <br />
                        <ul>
                            <li>Aujourd'hui plutôt nommé injection de dépendance</li>
                            <li>Déresponsabilisation / Déspécialisation des classes</li>
                            <li>On injecte dynamiquement les dépendances plutôt que de les écrire explicitement dans le code</li>
                        </ul>

                    </section>

                    <section>
                        <pre><code data-trim>
/**
* Pot qui contient une plante.
*/
public class Pot {
    /** Plante dans le pot */
    private Plante plante;

    /** Constructeur qui crée une plante spécifique: pas d'IoC */
    public Pot() {
        plante = new Tomate();
    }

    /** Constructeur avec plante: compatible IoC */
    public Pot(Plante plante) {
        this.plante = plante;
    }
}
                        </code></pre>
                        <aside class="notes">
                            Plante a ici la responsabilité de l'instanciation de la Tomate. Ca ne peut être que ça.<br />
                            Si l'application évolue, ou on souhaite l'étendre, ou on souhaite mocker pour test => on doit modifier le code.<br />
                        </aside>
                    </section>

                    <section>
                        <h3>Exemple XML</h3>
                        <br />
                        <ul>
                            <li>Dépendance maven sur spring-context</li>
                            <li>Un fichier de configuration principal</li>
                            <li>Déclaration de bean et d'injection de dépendance via l'xml</li>
                        </ul>

                        <aside class="notes">
                            Projet exemple : <b>springFormation_1</b>.<br />
                            Dépendance de context : https://mvnrepository.com/artifact/org.springframework/spring-context/4.3.2.RELEASE
                            app / beans / core / expression.<br />
                            Il est possible de découper le fichier XML en réalisant des imports (Mais un seul d'entrée).
                        </aside>
                    </section>

                    <section>
                        <h3>Exemple Annotation</h3>
                        <br />
                        <ul>
                            <li>Dépendance identique</li>
                            <li>Une classe de configuration principale</li>
                            <li>Déclaration des beans et injection de dépendance via les annotations</li>
                        </ul>

                        <aside class="notes">
                            Projet exemple : <b>springFormation_2</b>.<br />
                            On peut retrouver l'annotation @Bean aussi<br />
                            <br />
                            Ainsi, si dans messageServiceImpl on supprime le @Component, on peut déclarer dans la classe Application :<br />
                            <pre>
                            @Bean
                            public MessageServiceImpl messageService(){
                                return new MessageServiceImpl();
                            }
                            </pre>
                            Il est à noter que l'on peut avoir plusieurs @Configuration si on souhaite découper notre application.<br />
                            On peut réaliser des héritages / dépendances avec @Import(nomClass.class)<br />
                        </aside>
                    </section>

                    <section>
                        <h3>Annotation ou XML ?</h3>
                        <ul>
                            <li>Pas de best solution</li>
                            <li>En XML : on ne peut pas faire de bean dynamique</li>
                            <li>En Annotation : on ne peut </li>
                            <li>Utiliser le meilleur des deux : un mix</li>
                            <li>La tendance est tout de même à l'annotation pour tout ce </li>
                        </ul>

                        <aside class="notes">
                            Dépendance de context : https://mvnrepository.com/artifact/org.springframework/spring-context/4.3.2.RELEASE<br />
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques précisions sur @Component</h3>
                        <ul>
                            <li>Sur la classe VoitureDeCourse va créé un bean nommé "voitureDeCourse"</li>
                            <li></li>
                            <li></li>
                        </ul>

                        <aside class="notes">
                            Dépendance de context : https://mvnrepository.com/artifact/org.springframework/spring-context/4.3.2.RELEASE<br />
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 2. Spring MVC -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h2>Spring MVC</h2>
                    </section>

                    <section>
                        <h3>MVC : un petit rappel</h3>
                        <!-- TODO : inclure schéma MVC et rappel image découpage module spring -->
                    </section>
                </section>

			</div> <!-- End div slide -->

		</div> <!-- End div Reveal -->

		<!-- Scripts insertions -->
		<script src="reveal-3.3.0/lib/js/head.min.js"></script>
		<script src="reveal-3.3.0/js/reveal.js"></script>

		<script>
			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'reveal-3.3.0/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'reveal-3.3.0/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'reveal-3.3.0/plugin/zoom-js/zoom.js', async: true },
					{ src: 'reveal-3.3.0/plugin/notes/notes.js', async: true }
				]
			});
		</script>
	</body>
</html>
